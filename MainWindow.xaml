<Page x:Class="DataGridNamespace.MainWindow"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:Icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
      xmlns:local="clr-namespace:DataGridNamespace"
      Title="Members" Height="601" Width="865">

    <Page.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <Style x:Key="DataGridStyle" TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#D0D0D0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#E0E0E0"/>
            <Setter Property="VerticalGridLinesBrush" Value="#E0E0E0"/>
            <Setter Property="RowBackground" Value="#F9F9F9"/>
            <Setter Property="AlternatingRowBackground" Value="#FFFFFF"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
        </Style>
        <!-- افتراض وجود ستايل addButton لديك -->
    </Page.Resources>

    <!-- لا يوجد Sidebar هنا لأننا نعرض الصفحة داخل الـ Frame الموجود في نافذة الداشبورد -->
    <Grid Background="#EFF2F7" Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- عنوان الصفحة وزر الإضافة -->
        <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
            <TextBlock Text="Members" FontSize="32" FontWeight="SemiBold" Foreground="#121518" 
                       Margin="0,20,0,20" HorizontalAlignment="Center"/>
            <Button x:Name="AddButton" Style="{StaticResource addButton}" Background="#008080"
                    Click="AddButton_Click" HorizontalAlignment="Left" Width="150" Height="40">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Icon:PackIconMaterial Kind="Plus" Width="16" Height="16" Foreground="White" Margin="0,0,5,0"/>
                    <TextBlock Text="Add New Manager" Foreground="White"/>
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- DataGrid لعرض الأعضاء -->
        <DataGrid x:Name="MembersDataGrid"
                  Style="{StaticResource DataGridStyle}"
                  Grid.Row="1"
                  Margin="0,20,0,10"
                  AutoGenerateColumns="False"
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="#" Width="40" Binding="{Binding Id}"/>
                <DataGridTextColumn Header="Member" Width="*" Binding="{Binding Nom}"/>
                <DataGridTextColumn Header="Position" Width="*" Binding="{Binding Role}"/>
                <DataGridTextColumn Header="Email" Width="*" Binding="{Binding Email}"/>
                <DataGridTemplateColumn Header="Operations" Width="120">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Click="EditButton_Click"
                                        Background="Transparent" BorderBrush="Transparent"
                                        ToolTip="Edit User">
                                    <Icon:PackIconMaterial Kind="Pencil" Width="20" Height="20" Foreground="#6200EE"/>
                                </Button>
                                <Button Click="DeleteButton_Click"
                                        Background="Transparent" BorderBrush="Transparent"
                                        ToolTip="Delete User" Margin="10,0,0,0">
                                    <Icon:PackIconMaterial Kind="TrashCan" Width="20" Height="20" Foreground="Red"/>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
